
@{
    System.Data.DataSet ds = (System.Data.DataSet)ViewData["ds"];
    System.Data.DataRow dr = null;
    string type = "0";
    type = (string)ViewData["type"];

    dr = ds.Tables[0].Rows[0];


    int pos = 0;
    /*
    if(type =="1")
    {
        pos = (int)dr["fiber_bk_len"];
    }

    else if (type == "2")
    {
        pos = (int)dr["center_pos"];
    }

    else if (type == "3")
    {
        pos = (int)dr["cent_pos"];
    }

    else if (type == "4")
    {
        pos = (int)dr["begin_pos"];

    }

*/


}


<div id="alarm_data" style="width: 330px;height: 30px;margin-left:20px;"> 最新未处理报警(报警号: @dr["id"].ToString())：</div>
<br>
@{
    if (type == "1")
    {

        <div id="alarm_type" style="margin-top: 10px; margin-left: 20px; color: #ffffff; font-size: 15px">报警类型：裂缝报警<span id="alarm_confirm" style="color: #00ff00; font-size: 15px">(已确认)</span></div>
        <br>
        <div id="alarm_type" style="margin-top: 10px; margin-left: 20px; color: #ffffff; font-size: 15px">设备名称: dev_1</div>
        <br>
        <div id="alarm_type" style="margin-top: 10px; margin-left: 20px; color: #ffffff; font-size: 15px">传感器号: 1-1</div>
        <br>
        <div id="alarm_type" style="margin-top: 10px; margin-left: 20px; color: #ffffff; font-size: 15px">报警时间：2014-09-22 13:22:06</div>
        <br>
        <div id="alarm_type" style="margin-top: 10px; margin-left: 20px; color: #ffffff; font-size: 15px">报警值: 1.7mm</div>
        <br>
        <div id="alarm_type" style="margin-top: 10px; margin-left: 20px; color: #ffffff; font-size: 15px">报警位置：离入口262米</div>
        <br>
        <br>
        <table>
            <tr>
                <td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="norbn" href="#alarmtb" onclick="vib_fib_confirm('@(dr["id"])', 1)">确认</a></td>

                <td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="norbn" href="#alarmtb" onclick="vib_fib_confirm('@(dr["id"])', 2)">误报</a></td>
            </tr>
        </table>
        <script language="JavaScript" type="text/javascript">
            temp = @dr["fiber_bk_len"].ToString();
            al_type = @type;
            al_id=  @dr["id"].ToString();
            $('#alarm_confirm').css("visibility", "hidden");
        </script>
    }
    else if (type == "2")
    {
        <div id="alarm_type" style="margin-top: 10px; margin-left: 20px; color: #ffffff; font-size: 15px">报警类型：裂缝报警<span id="alarm_confirm" style="color: #00ff00; font-size: 15px">(已确认)</span></div>
        <br>
        <div id="alarm_type" style="margin-top: 10px; margin-left: 20px; color: #ffffff; font-size: 15px">设备名称: dev_1</div>
        <br>
        <div id="alarm_type" style="margin-top: 10px; margin-left: 20px; color: #ffffff; font-size: 15px">传感器号: 1-1</div>
        <br>
        <div id="alarm_type" style="margin-top: 10px; margin-left: 20px; color: #ffffff; font-size: 15px">报警时间：2014-09-22 13:22:06</div>
        <br>
        <div id="alarm_type" style="margin-top: 10px; margin-left: 20px; color: #ffffff; font-size: 15px">报警值: 1.7mm</div>
        <br>
        <div id="alarm_type" style="margin-top: 10px; margin-left: 20px; color: #ffffff; font-size: 15px">报警位置：离入口262米</div>
        <br>
        <br>
        <script language="JavaScript" type="text/javascript">
            temp = @dr["center_pos"].ToString();
            al_type = @type;
            al_id=  @dr["id"].ToString();
            $('#alarm_confirm').css("visibility", "hidden");
        </script>
        <br>
        <br>
        <table>
            <tr>
                <td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="norbn" href="#alarmtb" onclick="vib_confirm('@(dr["id"])', 1)">确认</a></td>

                <td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="norbn" href="#alarmtb" onclick="vib_confirm('@(dr["id"])', 2)">误报</a></td>
            </tr>
        </table>
    }

    else if (type == "3")
    {

        <div id="alarm_type" style="margin-top: 10px; margin-left: 20px; color: #ffffff; font-size: 15px">报警类型：裂缝报警<span id="alarm_confirm" style="color: #00ff00; font-size: 15px">(已确认)</span></div>
        <br>
        <div id="alarm_type" style="margin-top: 10px; margin-left: 20px; color: #ffffff; font-size: 15px">设备名称: dev_1</div>
        <br>
        <div id="alarm_type" style="margin-top: 10px; margin-left: 20px; color: #ffffff; font-size: 15px">传感器号: 1-1</div>
        <br>
        <div id="alarm_type" style="margin-top: 10px; margin-left: 20px; color: #ffffff; font-size: 15px">报警时间：2014-09-22 13:22:06</div>
        <br>
        <div id="alarm_type" style="margin-top: 10px; margin-left: 20px; color: #ffffff; font-size: 15px">报警值: 1.7mm</div>
        <br>
        <div id="alarm_type" style="margin-top: 10px; margin-left: 20px; color: #ffffff; font-size: 15px">报警位置：离入口262米</div>
        <br>
        <br>
        <script language="JavaScript" type="text/javascript">
            temp = @dr["cent_pos"].ToString();
            al_type = @type;
            al_id=  @dr["id"].ToString();
           // $('#alarm_confirm').html( "(确认为误报)");
            $('#alarm_confirm').css("visibility", "hidden");
        </script>
        <table>
            <tr>
                <td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="norbn" href="#alarmtb" onclick="botda_confirm('@(dr["id"])', 1)">确认</a></td>

                <td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="norbn" href="#alarmtb" onclick="botda_confirm('@(dr["id"])', 2)">误报</a></td>
            </tr>
        </table>

    }
    else if (type == "4")
    {
        <div id="alarm_type" style="margin-top: 10px; margin-left: 20px; color: #ffffff; font-size: 15px">报警类型：裂缝报警<span id="alarm_confirm" style="color: #00ff00; font-size: 15px">(已确认)</span></div>
        <br>
        <div id="alarm_type" style="margin-top: 10px; margin-left: 20px; color: #ffffff; font-size: 15px">设备名称: dev_1</div>
        <br>
        <div id="alarm_type" style="margin-top: 10px; margin-left: 20px; color: #ffffff; font-size: 15px">传感器号: 1-1</div>
        <br>
        <div id="alarm_type" style="margin-top: 10px; margin-left: 20px; color: #ffffff; font-size: 15px">报警时间：2014-09-22 13:22:06</div>
        <br>
        <div id="alarm_type" style="margin-top: 10px; margin-left: 20px; color: #ffffff; font-size: 15px">报警值: 1.7mm</div>
        <br>
        <div id="alarm_type" style="margin-top: 10px; margin-left: 20px; color: #ffffff; font-size: 15px">报警位置：离入口262米</div>
        <br>
        <br>
        <script language="JavaScript" type="text/javascript">
            temp =@dr["begin_pos"].ToString();
            al_type = @type;
            al_id=  @dr["id"].ToString();
            $('#alarm_confirm').css("visibility", "hidden");
        </script>

        <table>
            <tr>
                <td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="norbn" href="#alarmtb" onclick="dts_confirm('@(dr["id"])', 1)">确认</a></td>

                <td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="norbn" href="#alarmtb" onclick="dts_confirm('@(dr["id"])', 2)">误报</a></td>
            </tr>
        </table>

    }



}

